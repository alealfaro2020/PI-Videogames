{"ast":null,"code":"import { GET_VIDEOGAMES, GET_GENRE, GET_DETAIL, FILTER_BY_GENRES, FILTER_CREATED, ORDER_BY_NAME, ORDER_BY_RATING, GET_NAME_VIDEOGAMES, POST_VIDEOGAME, GET_LOADER, VACIAR_DETAIL } from '../constantes';\nconst initialState = {\n  videogames: [],\n  genres: [],\n  allVideogames: [],\n  platforms: [],\n  details: [],\n  flagLoad: false\n};\n\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_VIDEOGAMES:\n      let platforms = [];\n      action.payload.forEach(game => {\n        platforms = [...platforms, ...game.platforms];\n      });\n      console.log();\n      return { ...state,\n        videogames: action.payload,\n        allVideogames: action.payload,\n        platforms: Array.from(new Set(platforms)),\n        flagLoad: false\n      };\n\n    case GET_GENRE:\n      return { ...state,\n        genres: action.payload\n      };\n\n    case FILTER_BY_GENRES:\n      const allVideogames = state.allVideogames;\n      const filtergenre = action.payload === \"All\" ? allVideogames : allVideogames.filter(e => e.genres.includes(action.payload));\n      return { ...state,\n        videogames: filtergenre\n      };\n\n    case FILTER_CREATED:\n      const allvideogames = state.allVideogames;\n      const filterDB = action.payload === 'created' ? allvideogames.filter(e => e.createdInDb) : allvideogames.filter(e => !e.createdInDb);\n      return { ...state,\n        videogames: action.payload === 'All' ? state.allVideogames : filterDB\n      };\n\n    case ORDER_BY_NAME:\n      const order = action.payload === 'Asc' ? state.allVideogames.sort((a, b) => {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) return 1;\n        if (b.name.toLowerCase() > a.name.toLowerCase()) return -1;\n        return 0;\n      }) : state.allVideogames.sort((a, b) => {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) return -1;\n        if (b.name.toLowerCase() > a.name.toLowerCase()) return 1;\n        return 0;\n      });\n      return { ...state,\n        videogames: order\n      };\n\n    case ORDER_BY_RATING:\n      const orderRating = action.payload === 'low' ? state.allVideogames.sort((a, b) => {\n        if (a.rating > b.rating) return 1;\n        if (b.rating > a.rating) return -1;\n        return 0;\n      }) : state.allVideogames.sort((a, b) => {\n        if (a.rating > b.rating) return -1;\n        if (b.rating > a.rating) return 1;\n        return 0;\n      });\n      return { ...state,\n        videogames: orderRating\n      };\n\n    case GET_NAME_VIDEOGAMES:\n      return { ...state,\n        videogames: action.payload,\n        flagLoad: false\n      };\n\n    case POST_VIDEOGAME:\n      return { ...state\n      };\n\n    case GET_DETAIL:\n      return { ...state,\n        details: action.payload\n      };\n\n    case VACIAR_DETAIL:\n      return { ...state,\n        details: []\n      };\n\n    case GET_LOADER:\n      return { ...state,\n        flagLoad: action.payload\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;","map":{"version":3,"sources":["C:/Users/aleal/Desktop/HENRY CURSO/PI ORIGINAL/PI-Videogames/client/src/Redux/reducer/index.js"],"names":["GET_VIDEOGAMES","GET_GENRE","GET_DETAIL","FILTER_BY_GENRES","FILTER_CREATED","ORDER_BY_NAME","ORDER_BY_RATING","GET_NAME_VIDEOGAMES","POST_VIDEOGAME","GET_LOADER","VACIAR_DETAIL","initialState","videogames","genres","allVideogames","platforms","details","flagLoad","rootReducer","state","action","type","payload","forEach","game","console","log","Array","from","Set","filtergenre","filter","e","includes","allvideogames","filterDB","createdInDb","order","sort","a","b","name","toLowerCase","orderRating","rating"],"mappings":"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","sourcesContent":["import { GET_VIDEOGAMES,\r\n  GET_GENRE,GET_DETAIL,\r\n  FILTER_BY_GENRES,\r\n  FILTER_CREATED,\r\n  ORDER_BY_NAME,\r\n  ORDER_BY_RATING,\r\n  GET_NAME_VIDEOGAMES,\r\n  POST_VIDEOGAME,\r\n  GET_LOADER,\r\n  VACIAR_DETAIL\r\n} from '../constantes';\r\n\r\nconst initialState = {\r\n   videogames: [],\r\n   genres: [],\r\n   allVideogames: [],\r\n   platforms: [],\r\n   details: [],\r\n   flagLoad: false\r\n}\r\n\r\nfunction rootReducer(state= initialState, action) { \r\n  switch(action.type){\r\n    case GET_VIDEOGAMES: \r\n      let platforms = [];\r\n\r\n      action.payload.forEach(game => {\r\n        platforms = [...platforms, ...game.platforms]\r\n      });\r\n      console.log()\r\n      return {\r\n        ...state, \r\n        videogames: action.payload,\r\n        allVideogames: action.payload,\r\n        platforms: Array.from(new Set(platforms)),\r\n        flagLoad: false,\r\n      }\r\n    case GET_GENRE:\r\n      return {\r\n        ...state,\r\n        genres: action.payload\r\n      }\r\n    case FILTER_BY_GENRES: \r\n      const allVideogames = state.allVideogames\r\n      const filtergenre = action.payload === \"All\" ? allVideogames : allVideogames.filter((e) => e.genres.includes(action.payload))\r\n      return {\r\n        ...state,\r\n        videogames: filtergenre\r\n      }\r\n    case FILTER_CREATED:\r\n      const allvideogames = state.allVideogames\r\n      const filterDB = action.payload === 'created' ? allvideogames.filter((e)=> e.createdInDb) : allvideogames.filter((e) => !e.createdInDb)\r\n      return {\r\n        ...state,\r\n        videogames: action.payload === 'All' ? state.allVideogames : filterDB\r\n      }\r\n    case ORDER_BY_NAME:\r\n      const order = action.payload === 'Asc' ? state.allVideogames.sort((a , b) => {\r\n        if(a.name.toLowerCase() > b.name.toLowerCase()) return 1;\r\n        if(b.name.toLowerCase() > a.name.toLowerCase()) return -1;\r\n        return 0;\r\n      }) : state.allVideogames.sort((a , b) => {\r\n        if(a.name.toLowerCase() > b.name.toLowerCase()) return - 1;\r\n        if(b.name.toLowerCase() > a.name.toLowerCase()) return 1;\r\n        return 0;\r\n      })\r\n      return {\r\n        ...state,\r\n        videogames: order\r\n      }\r\n    case ORDER_BY_RATING: \r\n    const orderRating = action.payload === 'low' ? state.allVideogames.sort((a , b) => {\r\n      if(a.rating > b.rating) return 1;\r\n      if(b.rating > a.rating) return -1;\r\n      return 0;\r\n    }) : state.allVideogames.sort((a , b) => {\r\n      if(a.rating > b.rating) return - 1;\r\n      if(b.rating > a.rating) return 1;\r\n      return 0;\r\n    })\r\n      return {\r\n        ...state,\r\n        videogames: orderRating\r\n      }\r\n    case GET_NAME_VIDEOGAMES: \r\n      return {\r\n        ...state,\r\n        videogames: action.payload,\r\n        flagLoad: false,\r\n      }\r\n    case POST_VIDEOGAME:\r\n      return {\r\n        ...state\r\n      }\r\n    case GET_DETAIL:\r\n      return {\r\n        ...state,\r\n        details: action.payload\r\n      }\r\n    case VACIAR_DETAIL: \r\n      return {\r\n        ...state,\r\n        details:[]\r\n      }\r\n    \r\n    case GET_LOADER:\r\n      return {\r\n        ...state,\r\n        flagLoad: action.payload\r\n      }\r\n\r\n      default: \r\n        return state\r\n  }\r\n}\r\n\r\nexport default rootReducer"]},"metadata":{},"sourceType":"module"}